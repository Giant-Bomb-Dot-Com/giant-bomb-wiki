<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Exclude existing files and directories from rewriting
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d

  # Exclude core MediaWiki scripts and resources
  RewriteCond %{REQUEST_URI} !^/(index\.php|load\.php|api\.php|rest\.php)
  RewriteCond %{REQUEST_URI} !^/(skins|resources|extensions|images)/

  # Route everything else to index.php with title parameter
  RewriteRule ^(.*)$ /index.php?title=$1 [L,QSA]
</IfModule>

<IfModule mod_headers.c>
  # Allow correct MIME types to pass without being blocked by nosniff
  Header unset X-Content-Type-Options
</IfModule>


