__NOTOC__
<noinclude>
{{#template_params:
  name (name of the landing page, used to call other templates)
  filterTitle (The header to show on the top of the filter)
}}
</noinclude>
<includeonly>
<div class="listing-content">
    <div class="listing-sidebar">
      <div class="filter-container game-filter">
          <h3 class="filter-title">{{{filterTitle}}}</h3>
          <!-- Invoke the Lua module to show the dropdown and button -->
          <!-- Pass the parameter to the sidebar module so the dropdown stays selected -->
          {{#invoke:{{{name }}}Filters|renderSidebar
            |chosen_platform={{{chosen_platform|{{#urlget:chosen_platform|All}}}}}
            |chosen_letter={{{chosen_letter|{{#urlget:chosen_letter|All}}}}}
            |search_filter={{{search_filter|{{#urlget:search_filter}}}}}
            |sort_by={{{sort_by|{{#urlget:sort_by}}}}}
          }}
      </div>
    </div>
    <div class="listing-main">
       <!-- This remains your main display logic -->
       <!-- Pass the parameter to the query module to actually filter results -->
        {{#invoke:{{{name }}}Query|render            
            |chosen_platform={{{chosen_platform|{{#urlget:chosen_platform|All}}}}}
            |chosen_letter={{{chosen_letter|{{#urlget:chosen_letter|All}}}}}
            |search_filter={{{search_filter|{{#urlget:search_filter}}}}}
            |sort_by={{{sort_by|{{#urlget:sort_by}}}}}
            |offset={{{offset|{{#urlget:offset|0}}}}}
            |limit={{{limit|{{#urlget:limit|48}}}}} 
        }}
    </div>
</div>
</includeonly>