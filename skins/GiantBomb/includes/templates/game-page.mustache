{{> header }}

<div class="game-page">
	{{! Hero Section with Game Cover and Background }}
	<div class="game-hero" style="background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)){{#game.image}}, url('{{game.image}}'){{/game.image}};">
		<div class="game-hero__container">
			{{! Game Cover Image }}
			{{#game.image}}
			<div class="game-hero__cover">
				<div
					data-vue-component="GameImageViewer"
					data-image-url="{{game.image}}"
					data-alt-text="{{game.name}} cover">
				</div>
			</div>
			{{/game.image}}

			{{! Game Info }}
			<div class="game-hero__info">
				<h1 class="game-hero__title">{{game.name}}</h1>

				{{! Metadata Line }}
				<div class="game-hero__metadata">
					<span class="game-hero__meta-item">
						Game consists of <a href="{{game.url}}/Releases" class="game-hero__meta-link">{{game.releasesCount}} release{{^game.releasesCount.1}}s{{/game.releasesCount.1}}</a>
					</span>
					{{#game.releaseDate}}
					<span class="game-hero__meta-separator">|</span>
					<span class="game-hero__meta-item">Released in {{game.releaseDate}}</span>
					{{/game.releaseDate}}
				</div>

				{{! Platforms }}
				{{#game.platforms.0}}
				<div class="game-hero__platforms">
					{{#game.platforms}}
					<a href="/Platforms/{{.}}" class="game-hero__platform-link">{{.}}</a>{{^-last}}, {{/-last}}
					{{/game.platforms}}
					{{#vue.morePlatforms}}
					<span class="game-hero__more-platforms">+ {{vue.morePlatforms}} more</span>
					{{/vue.morePlatforms}}
				</div>
				{{/game.platforms.0}}

				{{! Game Description }}
				{{#game.deck}}
				<p class="game-hero__description">{{game.deck}}</p>
				{{/game.deck}}
			</div>
		</div>
	</div>

	{{! Tab Navigation }}
	<div class="game-tabs">
		<div class="game-tabs__container">
			<nav class="game-tabs__nav">
				<a href="{{game.url}}" class="game-tabs__tab game-tabs__tab--active">Game Wiki</a>
				<a href="{{game.url}}/Images" class="game-tabs__tab">Images{{#game.imagesCount}} ({{game.imagesCount}}){{/game.imagesCount}}</a>
				<a href="{{game.url}}/Forum" class="game-tabs__tab">Forum</a>
				<a href="{{game.url}}/Guide" class="game-tabs__tab">Guide</a>
				{{#game.hasReleases}}
				<a href="{{game.url}}/Releases" class="game-tabs__tab">Releases{{#game.releasesCount}} ({{game.releasesCount}}){{/game.releasesCount}}</a>
				{{/game.hasReleases}}
				{{#game.hasDLC}}
				<a href="{{game.url}}/DLC" class="game-tabs__tab">DLC</a>
				{{/game.hasDLC}}
				<a href="{{game.url}}/Reviews" class="game-tabs__tab">Reviews</a>
				<a href="{{game.url}}/Related" class="game-tabs__tab">Related pages</a>
			</nav>
		</div>
	</div>

	{{! Main Content Grid }}
	<div class="game-content">
		{{! Left Column - Main Content }}
		<div class="game-main">
			{{! Wiki Content - parsed sections }}
			{{#game.description}}
			<div class="game-wiki-content">
				{{{game.description}}}
			</div>
			{{/game.description}}
		</div>

		{{! Right Column - Sidebar }}
		<aside class="game-sidebar">
			{{! Images Preview Section }}
			{{#game.images.0}}
			<section class="game-sidebar-section">
				<h3 class="game-sidebar-section__title">Images</h3>
				<div class="game-images-grid">
					{{#game.images}}
					<div class="game-image-thumb">
						<div
							data-vue-component="GameImageViewer"
							data-image-url="{{url}}"
							data-alt-text="{{caption}}">
						</div>
					</div>
					{{/game.images}}
				</div>
				<a href="{{game.url}}/Images" class="game-view-all-btn">View all ({{game.imagesCount}}) images</a>
			</section>
			{{/game.images.0}}

			{{! Game Details Section }}
			<section class="game-sidebar-section">
				<h3 class="game-sidebar-section__title">Game details</h3>
				<div class="game-details">
					<div class="game-detail-item">
						<div class="game-detail-label">Name</div>
						<div class="game-detail-value">{{game.name}}</div>
					</div>
					{{#game.releaseDate}}
					<div class="game-detail-item">
						<div class="game-detail-label">Release date</div>
						<div class="game-detail-value">{{game.releaseDate}}</div>
					</div>
					{{/game.releaseDate}}
					{{#game.platforms.0}}
					<div class="game-detail-item">
						<div class="game-detail-label">Platform</div>
						<div class="game-detail-value game-detail-links">
							{{#game.platforms}}
							<a href="/Platforms/{{.}}" class="game-detail-link">{{.}}</a>
							{{/game.platforms}}
						</div>
					</div>
					{{/game.platforms.0}}
					{{#game.developers.0}}
					<div class="game-detail-item">
						<div class="game-detail-label">Developer</div>
						<div class="game-detail-value game-detail-links">
							{{#game.developers}}
							<a href="/Companies/{{.}}" class="game-detail-link">{{.}}</a>
							{{/game.developers}}
						</div>
					</div>
					{{/game.developers.0}}
					{{#game.publishers.0}}
					<div class="game-detail-item">
						<div class="game-detail-label">Publisher</div>
						<div class="game-detail-value game-detail-links">
							{{#game.publishers}}
							<a href="/Companies/{{.}}" class="game-detail-link">{{.}}</a>
							{{/game.publishers}}
						</div>
					</div>
					{{/game.publishers.0}}
				</div>
			</section>
		</aside>
	</div>
</div>
